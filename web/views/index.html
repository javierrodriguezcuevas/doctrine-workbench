<script type="text/ng-template" id="fieldsOptionsContent.html">
<div class="table-responsive">
    <table class="table fields-table">
        <thead>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
            <th>{{ 'label.name' | translate }}</th>
            <th>{{ 'label.name_database' | translate }}</th>
            <th>{{ 'label.type' | translate }}</th>
            <th>{{ 'label.length' | translate }}</th>
            <th>{{ 'label.pk' | translate }}</th>
            <th>{{ 'label.nn' | translate }}</th>
            <th>{{ 'label.strategy' | translate }}</th>
        </thead>
        <tbody ui-sortable ng-model="fieldMappings">
            <tr class="table-fields" 
                ng-repeat="field in fieldMappings"
                ng-form="fieldForm"
                ng-class="{ 'warning': field.id }"
                id="field-{{ field._id }}"
                >
                <td class="nopadding-top noppading-bottom noppading-right">
                    <i class="move icon icon-sort"> </i>
                </td>
                <td>
                    <button class="btn btn-xs btn-link btn-align-xs disabled nopadding-left noppading-right"
                        tooltip-placement="top" 
                        tooltip="">
                        <i class="icon" 
                           ng-class="{ 'icon-key': field.id }"> </i>
                    </button>
                </td>
                <td ng-class="{ 'has-error': fieldForm.fieldName.$invalid && fieldForm.fieldName.$dirty }">
                    <input class="form-control" name="fieldName" type="text" required
                           ng-model="field.fieldName"
                           ng-change="updateTableName(field)"
                           ng-maxlength="255"
                           uniquefieldname="existFieldName"
                    />
                    <p class="help-block error" 
                        ng-show="fieldForm.fieldName.$error.required 
                        && fieldForm.fieldName.$invalid 
                        && fieldForm.fieldName.$dirty">{{ 'error.required' | translate }}</p>
                    <p class="help-block error" 
                        ng-show="fieldForm.fieldName.$error.maxlength 
                        && fieldForm.fieldName.$invalid 
                        && fieldForm.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
                    <p class="help-block error" 
                        ng-show="fieldForm.fieldName.$error.uniquefieldname 
                        && fieldForm.fieldName.$invalid 
                        && fieldForm.fieldName.$dirty">{{ 'error.exists' | translate }}</p>
                </td>
                <td ng-class="{ 'has-error': fieldForm.columnName.$invalid && fieldForm.columnName.$dirty }">
                    <input class="form-control" name="columnName" type="text" required
                           ng-model="field.columnName"
                           ng-maxlength="255"
                           uniquefieldname="existFieldName"
                    />
                    <p class="help-block error" 
                        ng-show="fieldForm.columnName.$error.required 
                        && fieldForm.columnName.$invalid 
                        && fieldForm.columnName.$dirty">{{ 'error.required' | translate }}</p>
                    <p class="help-block error" 
                        ng-show="fieldForm.columnName.$error.maxlength 
                        && fieldForm.columnName.$invalid 
                        && fieldForm.columnName.$dirty">{{ 'error.maxlength' | translate }}</p>
                    <p class="help-block error" 
                        ng-show="fieldForm.columnName.$error.uniquefieldname 
                        && fieldForm.columnName.$invalid 
                        && fieldForm.columnName.$dirty">{{ 'error.exists' | translate }}</p>
                </td>
                <td>
                    <select class="form-control" name="type" style="width:100px;" required
                            ng-model="field.type" 
                            ng-options="t.id as t.name for t in types"
                    >
                    </select>
                </td>
                <td ng-class="{ 'has-error': fieldForm.length.$invalid && fieldForm.length.$dirty }">
                    <input class="form-control length-field" name="length" type="number"
                           ng-model="field.length"
                           ng-disabled="isFieldDisabled(field.type, 'length')"
                           ng-required="isLengthRequired(field.type)"
                    />
                    <p class="help-block error"
                        ng-show="fieldForm.length.$error.required 
                        && fieldForm.length.$invalid 
                        && fieldForm.length.$dirty">{{ 'error.required' | translate }}</p>
                    <p class="help-block error"
                        ng-show="fieldForm.length.$error.number 
                        && fieldForm.length.$invalid 
                        && fieldForm.length.$dirty">{{ 'error.number' | translate }}</p>
                </td>
                <td>
                    <div class="checkbox">
                        <input class="checkbox" type="checkbox" 
                               ng-model="field.id"
                               ng-disabled="isFieldDisabled(field.type, 'id')"
                        />
                        <label></label>
                    </div>
                </td>
                <td>
                    <div class="checkbox">
                        <input class="checkbox" type="checkbox" 
                               ng-model="field.nullable"
                               ng-disabled="(field.id)"
                        />
                        <label></label>
                    </div>
                </td>
                <td ng-class="{ 'has-error': fieldForm.strategy.$invalid && fieldForm.strategy.$dirty }">
                    <select class="form-control" name="strategy" style="width:100px;"
                            ng-model="field.strategy" 
                            ng-disabled="isFieldDisabled(field.type, 'id') || !(field.id)"
                            ng-required="field.id"
                            ng-options="t.id as t.name for t in strategies"
                    >
                    </select>
                </td>
                <td>
                    <button type="button" class="btn btn-danger btn-xs btn-align-xs" 
                            ng-click="removeField(field._id)"
                    >
                        <i class="icon icon-minus"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</script>
<div class="row">
    <div class="col-lg-12">
        <div class="form-group">
            <div class="btn-group" role="group">
                <button class="btn btn-default" type="button" ng-click="clearWorkbenchConfirmation()" tooltip-placement="top" tooltip-append-to-body="true" tooltip="{{ 'label.new' | translate }}">
                    <i class="glyphicon glyphicon-file"> </i>
                </button>
                <a id="btn-list-schemas" class="btn btn-default" ng-click="listSchemas()" tooltip-placement="top" tooltip-append-to-body="true" tooltip="{{ 'label.open' | translate }}">
                    <i class="icon icon-folder-open"> </i>
                </a>
                <a id="btn-save" class="btn btn-default ladda-button" data-style="zoom-in" ladda="loading" ng-click="saveSchema()" tooltip-placement="top" tooltip-append-to-body="true" tooltip="{{ 'label.save' | translate }}">
                    <i class="icon icon-floppy"> </i>
                </a>
                <button class="btn btn-default" type="button" ng-click="sendSchema()" tooltip-placement="top" tooltip-append-to-body="true" tooltip="{{ 'label.create' | translate }}">
                    <i class="icon icon-magic"> </i>
                </button>
            </div>
            <button class="btn btn-primary pull-right" ng-click="newEntity()" type="button">
                <i class="icon icon-plus"> </i>
                {{ 'label.new_entity' | translate }}
            </button>
        </div>
    </div>
</div>

<div class="slider-vertical-container">
    <span slider="" ng-model="currentZoom" on-slide="updateZoom()" ng-click="updateZoom()" min="0.1" step="0.01" precision="2" max="1.9" orientation="vertical" value="currentZoom" slider-tooltip="hide"></span>
</div>
<div id="workbench-wrapper">
    <div id="advanced-options-wrapper">
        <div class="item-header-wrapper">
            <div class="item-move">
                <span class="title">{{ 'label.advanced_options' | translate }}</span>
            </div>
            <div class="item-header">
                <button type="button" class="close minimize"><span>-</span></button>
            </div>
        </div>
        <div advanced-options="">
            <form novalidate="" name="currentEntityForm" class="form-horizontal" ng-submit="currentEntityOk(currentEntityForm)">
                <div class="disabled-form" ng-show="null === currentEntity"></div>
                <table class="table table-condensed table-bordered table-striped nomargin-bottom">
                    <tbody>
                        <tr>
                            <td>
                                <span class="text-sm">{{ 'label.entity.name' | translate }}</span>
                            </td>
                            <td>
                                <div ng-class="{ 'has-error': currentEntityForm.name.$invalid && currentEntityForm.name.$dirty }">
                                    <input class="form-control input-xs" name="name" type="text" required ng-model="currentEntity.name" ng-maxlength="255" uniqueentityproperty="existByEntityName" entity="currentEntity">
                                    <span class="help-block nomargin-bottom text-sm" ng-show="currentEntityForm.name.$error.required 
                                        && currentEntityForm.name.$invalid 
                                        && currentEntityForm.name.$dirty">{{ 'error.required' | translate }}</span>
                                    <span class="help-block nomargin-bottom text-sm" ng-show="currentEntityForm.name.$error.maxlength 
                                        && currentEntityForm.name.$invalid 
                                        && currentEntityForm.name.$dirty">{{ 'error.maxlength' | translate }}</span>
                                    <span class="help-block nomargin-bottom text-sm" ng-show="currentEntityForm.name.$error.uniqueentityproperty 
                                        && currentEntityForm.name.$invalid 
                                        && currentEntityForm.name.$dirty">{{ 'error.exists' | translate }}</span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="text-sm">{{ 'label.entity.table_name' | translate }}</span>
                            </td>
                            <td>
                                <div ng-class="{ 'has-error': currentEntityForm.tableName.$invalid && currentEntityForm.tableName.$dirty }">
                                    <input class="form-control input-xs" name="tableName" type="text" required ng-model="currentEntity.tableName.name" ng-maxlength="255" uniqueentityproperty="existByTableName" entity="currentEntity">
                                    <span class="help-block nomargin-bottom text-sm" ng-show="currentEntityForm.tableName.$error.required 
                                        && currentEntityForm.tableName.$invalid 
                                        && currentEntityForm.tableName.$dirty">{{ 'error.required' | translate }}</span>
                                    <span class="help-block nomargin-bottom text-sm" ng-show="currentEntityForm.tableName.$error.maxlength 
                                        && currentEntityForm.tableName.$invalid 
                                        && currentEntityForm.tableName.$dirty">{{ 'error.maxlength' | translate }}</span>
                                    <span class="help-block nomargin-bottom text-sm" ng-show="currentEntityForm.tableName.$error.uniqueentityproperty 
                                        && currentEntityForm.tableName.$invalid 
                                        && currentEntityForm.tableName.$dirty">{{ 'error.exists' | translate }}</span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="text-sm">{{ 'label.entity.namespace' | translate }}</span>
                            </td>
                            <td>
                                <div ng-class="{ 'has-error': currentEntityForm.namespace.$invalid && currentEntityForm.namespace.$dirty }">
                                    <input class="form-control input-xs" name="namespace" type="text" required ng-model="currentEntity.namespace" ng-maxlength="255">
                                    <span class="help-block nomargin-bottom text-sm" ng-show="currentEntityForm.namespace.$error.required 
                                        && currentEntityForm.namespace.$invalid 
                                        && currentEntityForm.namespace.$dirty">{{ 'error.required' | translate }}</span>
                                    <span class="help-block nomargin-bottom text-sm" ng-show="currentEntityForm.namespace.$error.maxlength 
                                        && currentEntityForm.namespace.$invalid 
                                        && currentEntityForm.namespace.$dirty">{{ 'error.maxlength' | translate }}</span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="text-right">
                    <button class="btn btn-default btn-xs" ng-disabled="null === currentEntity" ng-click="currentEntityCancel()" type="button">{{ 'label.cancel' | translate }}</button>
                    <button class="btn btn-primary btn-xs" ng-disabled="null === currentEntity || currentEntityForm.$invalid" type="submit">{{ 'label.ok' | translate }}</button>
                </div>
            </form>
        </div>
    </div>
    <div id="workbench">
        <div plumb-item="" class="item" ng-repeat="entity in entities" ng-style="{'left': entity._x, 'top': entity._y }" ng-click="setCurrentEntity(entity)" data-identifier="{{entity._id}}">
            <div class="item-header-wrapper">
                <div class="item-move"></div>
                <div class="item-header">
                    <button type="button" class="close" ng-click="removeEntityConfirmation(entity._id)"><span>Ã—</span>&nbsp;</button>
                </div>
            </div>
            <div class="col-lg-12 item-container">
                <div class="form-group">
                    <button type="button" class="btn btn-primary btn-xs pull-left" ng-click="editEntity(entity._id)" tooltip-placement="top" tooltip-append-to-body="true" tooltip="{{ 'label.edit_entity' | translate }}">
                        <i class="icon icon-edit"></i>
                    </button>
                    <label class="label-align-xs">{{ entity.name }}</label>
                </div>
                <div class="form-group">
                    <button type="button" class="btn btn-info btn-xs pull-left" ng-click="editFields(entity._id)" tooltip-placement="top" tooltip-append-to-body="true" tooltip="{{ 'label.edit_fields' | translate }}">
                        <i class="icon icon-list"></i>
                    </button>
                    <label class="label-align-xs">{{ 'label.entity.fields' | translate }}: </label>{{ entity.fieldMappings.length }}
                </div>
                <div class="clearfix"></div>
                <div class="btn-group btn-group-justified" data-identifier="{{entity._id}}">
                    <span plumb-connect-one-to-one="" class="one-to-one btn btn-xs no-draggable" ng-disabled="entity.fieldMappings.length == 0">
                        <i class="icon icon-tree"></i>
                    </span>
                    <span plumb-connect-one-to-many="" class="one-to-many btn btn-xs no-draggable" ng-disabled="entity.fieldMappings.length == 0">
                        <i class="icon icon-tree2"></i>
                    </span>
                    <span plumb-connect-many-to-many="" class="many-to-many btn btn-xs no-draggable" ng-disabled="entity.fieldMappings.length == 0">
                        <i class="icon icon-tree3"></i>
                    </span>
                </div>
                <div class="clearfix"><br></div>
            </div>
        </div>
    </div>
</div>

<div>
<!-- ngInclude: 'fieldsOptionsContent.html' -->
<script type="text/ng-template" id="fieldsOptionsContent.html">
<div class="table-responsive">
    <table class="table fields-table">
        <thead>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
            <th>{{ 'label.name' | translate }}</th>
            <th>{{ 'label.name_database' | translate }}</th>
            <th>{{ 'label.type' | translate }}</th>
            <th>{{ 'label.length' | translate }}</th>
            <th>{{ 'label.pk' | translate }}</th>
            <th>{{ 'label.nn' | translate }}</th>
            <th>{{ 'label.strategy' | translate }}</th>
        </thead>
        <tbody ui-sortable ng-model="fieldMappings">
            <tr class="table-fields" 
                ng-repeat="field in fieldMappings"
                ng-form="fieldForm"
                ng-class="{ 'warning': field.id }"
                id="field-{{ field._id }}"
                >
                <td class="nopadding-top noppading-bottom noppading-right">
                    <i class="move icon icon-sort"> </i>
                </td>
                <td>
                    <button class="btn btn-xs btn-link btn-align-xs disabled nopadding-left noppading-right"
                        tooltip-placement="top" 
                        tooltip="">
                        <i class="icon" 
                           ng-class="{ 'icon-key': field.id }"> </i>
                    </button>
                </td>
                <td ng-class="{ 'has-error': fieldForm.fieldName.$invalid && fieldForm.fieldName.$dirty }">
                    <input class="form-control" name="fieldName" type="text" required
                           ng-model="field.fieldName"
                           ng-change="updateTableName(field)"
                           ng-maxlength="255"
                           uniquefieldname="existFieldName"
                    />
                    <p class="help-block error" 
                        ng-show="fieldForm.fieldName.$error.required 
                        && fieldForm.fieldName.$invalid 
                        && fieldForm.fieldName.$dirty">{{ 'error.required' | translate }}</p>
                    <p class="help-block error" 
                        ng-show="fieldForm.fieldName.$error.maxlength 
                        && fieldForm.fieldName.$invalid 
                        && fieldForm.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
                    <p class="help-block error" 
                        ng-show="fieldForm.fieldName.$error.uniquefieldname 
                        && fieldForm.fieldName.$invalid 
                        && fieldForm.fieldName.$dirty">{{ 'error.exists' | translate }}</p>
                </td>
                <td ng-class="{ 'has-error': fieldForm.columnName.$invalid && fieldForm.columnName.$dirty }">
                    <input class="form-control" name="columnName" type="text" required
                           ng-model="field.columnName"
                           ng-maxlength="255"
                           uniquefieldname="existFieldName"
                    />
                    <p class="help-block error" 
                        ng-show="fieldForm.columnName.$error.required 
                        && fieldForm.columnName.$invalid 
                        && fieldForm.columnName.$dirty">{{ 'error.required' | translate }}</p>
                    <p class="help-block error" 
                        ng-show="fieldForm.columnName.$error.maxlength 
                        && fieldForm.columnName.$invalid 
                        && fieldForm.columnName.$dirty">{{ 'error.maxlength' | translate }}</p>
                    <p class="help-block error" 
                        ng-show="fieldForm.columnName.$error.uniquefieldname 
                        && fieldForm.columnName.$invalid 
                        && fieldForm.columnName.$dirty">{{ 'error.exists' | translate }}</p>
                </td>
                <td>
                    <select class="form-control" name="type" style="width:100px;" required
                            ng-model="field.type" 
                            ng-options="t.id as t.name for t in types"
                    >
                    </select>
                </td>
                <td ng-class="{ 'has-error': fieldForm.length.$invalid && fieldForm.length.$dirty }">
                    <input class="form-control length-field" name="length" type="number"
                           ng-model="field.length"
                           ng-disabled="isFieldDisabled(field.type, 'length')"
                           ng-required="isLengthRequired(field.type)"
                    />
                    <p class="help-block error"
                        ng-show="fieldForm.length.$error.required 
                        && fieldForm.length.$invalid 
                        && fieldForm.length.$dirty">{{ 'error.required' | translate }}</p>
                    <p class="help-block error"
                        ng-show="fieldForm.length.$error.number 
                        && fieldForm.length.$invalid 
                        && fieldForm.length.$dirty">{{ 'error.number' | translate }}</p>
                </td>
                <td>
                    <div class="checkbox">
                        <input class="checkbox" type="checkbox" 
                               ng-model="field.id"
                               ng-disabled="isFieldDisabled(field.type, 'id')"
                        />
                        <label></label>
                    </div>
                </td>
                <td>
                    <div class="checkbox">
                        <input class="checkbox" type="checkbox" 
                               ng-model="field.nullable"
                               ng-disabled="(field.id)"
                        />
                        <label></label>
                    </div>
                </td>
                <td ng-class="{ 'has-error': fieldForm.strategy.$invalid && fieldForm.strategy.$dirty }">
                    <select class="form-control" name="strategy" style="width:100px;"
                            ng-model="field.strategy" 
                            ng-disabled="isFieldDisabled(field.type, 'id') || !(field.id)"
                            ng-required="field.id"
                            ng-options="t.id as t.name for t in strategies"
                    >
                    </select>
                </td>
                <td>
                    <button type="button" class="btn btn-danger btn-xs btn-align-xs" 
                            ng-click="removeField(field._id)"
                    >
                        <i class="icon icon-minus"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</script>
<!--/ngInclude: 'fieldsOptionsContent.html' -->
</div>
<div>
<!-- ngInclude: 'manyToManyContent.html' -->
<script type="text/ng-template" id="manyToManyContent.html">     
<!-- NOMBRE DE LA TABLA EN MANY TO MANY -->
<div class="form-group" 
    ng-class="{ 'has-error': form.entityName.$invalid && form.entityName.$dirty }"
    >
    <label class="col-lg-4 col-md-4 control-label">{{ 'label.middle_tablename' | translate }}</label>
    <div class="col-lg-8 col-md-8">
        <input type="text" name="entityName" class="form-control" placeholder="Nombre de la tabla"
            ng-model="sourceRelation.joinTable.name"
            ng-required="type == 3"
            ng-maxlength="255"
        />
        <p class="help-block error" 
            ng-show="form.entityName.$error.required 
            && form.entityName.$invalid 
            && form.entityName.$dirty">{{ 'error.required' | translate }}</p>
        <p class="help-block error" 
            ng-show="form.entityName.$error.maxlength 
            && form.entityName.$invalid 
            && form.entityName.$dirty">{{ 'error.maxlength' | translate }}</p>
    </div>
</div>

<hr />

<!-- OPCIONES ENTIDAD OWNER -->
<fieldset class="col-md-6">

    <legend class="">{{ 'label.entity' | translate }} {{ sourceEntityName }} <span class="">{{ 'label.owner_side' | translate }}</span></legend>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.related_field' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <select class="form-control" name="targetRelatedFieldId" 
                    ng-model="sourceRelation.joinTable.joinColumns[0].referencedColumnName"
                    ng-options="t.fieldName as t.fieldName for t in fieldsTarget"
                    >
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.sourceFieldName.$invalid && form.sourceFieldName.$dirty }"
            >
            <input type="text" name="sourceFieldName"  class="form-control"
                   ng-model="sourceRelation.fieldName"
                   ng-required="true"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.sourceFieldName.$error.required 
                && form.sourceFieldName.$invalid 
                && form.sourceFieldName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.sourceFieldName.$error.maxlength 
                && form.sourceFieldName.$invalid 
                && form.sourceFieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.cascade_options' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <div ng-dropdown-multiselect="" options="cascadeOptions" 
            selected-model="sourceRelation.cascade" 
            extra-settings="multiselectSettings"
            translation-texts="multiselectTextSettings"></div>
        </div>
    </div>
</fieldset>

<!-- OPCIONES ENTIDAD INVERSE MANY-TO-MANY -->
<fieldset class="col-md-6">

    <legend class="">{{ 'label.entity' | translate }} {{ targetEntityName }} <span class="">{{ 'label.inverse_side' | translate }}</span></legend>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.related_field' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <select class="form-control" name="sourceRelatedFieldId"
                    ng-model="sourceRelation.joinTable.inverseJoinColumns[0].referencedColumnName"
                    ng-options="t.fieldName as t.fieldName for t in fieldsSource"
                    >
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.targetFieldName.$invalid && form.targetFieldName.$dirty }"
            >
            <input type="text" name="targetFieldName"  class="form-control"
                   ng-model="targetRelation.fieldName"
                   ng-required="true"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.targetFieldName.$error.required 
                && form.targetFieldName.$invalid 
                && form.targetFieldName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.targetFieldName.$error.maxlength 
                && form.targetFieldName.$invalid 
                && form.targetFieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
</fieldset>
</script>
<!--/ngInclude: 'manyToManyContent.html' -->
</div>
<div>
<!-- ngInclude: 'modalEditFieldsContent.html' -->
<script type="text/ng-template" id="modalEditFieldsContent.html">
	<div class="modal-header">
            <h3>{{ 'title.edit_fields' | translate }} {{ title }}</h3>
	</div>
	<form novalidate name="form" class="form-horizontal" 
            ng-submit="ok(form)">
            <div class="modal-body">
                <button type="button" class="btn btn-success btn-sm" 
                    ng-click="addField()">
                    <i class="icon icon-plus"> </i>
                    {{ 'label.new_field' | translate }}
                </button>
                <div class="row">
                    <div class="col-lg-12">
                        <span ng-include src="'fieldsOptionsContent.html'"></span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary"
                    ng-disabled="form.$invalid">
                    {{ 'label.ok' | translate }}
                </button>
                <button type="button" class="btn btn-danger" 
                    ng-click="cancel()">
                    {{ 'label.cancel' | translate }}
                </button>
            </div>
	</form>
</script>
<!--/ngInclude: 'modalEditFieldsContent.html' -->
</div>
<div>
<!-- ngInclude: 'modalLoadSchema.html' -->
<script type="text/ng-template" id="modalLoadSchema.html">
    <div class="modal-header">
        <h3>{{ 'title.load_schema' | translate }}</h3>
    </div>
    <form novalidate name="form" class="form-horizontal" ng-submit="ok(form)">
        <div class="modal-body">
            <div ng-show="!showTable">
                <button class="btn btn-default loading-button ladda-button"
                    data-style="zoom-in"
                    data-spinner-color="#000000"
                    ladda="!loading">
                    <i class="glyphicon"> </i>
                </button>
                <span>{{ 'label.loading' | translate }}</span>
            </div>
            <table class="table"
                ng-show="showTable">
                <thead>
                    <th>
                        {{ 'label.name' | translate }}
                    </th>
                    <th></th>
                </thead>
                <tbody>
                    <tr ng-repeat="schema in schemas">
                        <td>
                            {{ schema.name }}
                        </td>
                        <td class="text-right">
                            <button class="btn btn-info btn-sm ladda-button"
                                data-style="zoom-in"
                                ladda="loading"
                                ng-click="loadSchema(schema.id)"
                                tooltip-placement="top" 
                                tooltip-append-to-body="true" 
                                tooltip="{{ 'label.load' | translate }}">
                                <i class="glyphicon glyphicon-cloud-download"> </i>
                            </button>
                            <button class="btn btn-danger btn-sm ladda-button"
                                data-style="zoom-in"
                                ladda="loading"
                                ng-click="removeSchema(schema.id)"
                                tooltip-placement="top" 
                                tooltip-append-to-body="true" 
                                tooltip="{{ 'label.delete' | translate }}">
                                <i class="glyphicon glyphicon-remove"> </i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" ng-click="close()">{{ 'label.close' | translate }}</button>
        </div>
    </form>
</script>
<!--/ngInclude: 'modalLoadSchema.html' -->
</div>
<div>
<!-- ngInclude: 'modalNewEditEntityContent.html' -->
<script type="text/ng-template" id="modalNewEditEntityContent.html">
    <div class="modal-header">
        <h3 ng-if="isNew">{{ 'title.new_entity' | translate }}</h3>
        <h3 ng-if="!isNew">{{ 'title.edit_entity' | translate }} {{ entity.name }}</h3>
    </div>
    <form novalidate name="form" class="form-horizontal" ng-submit="ok(form)">
        <div class="modal-body">
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group" ng-class="{ 'has-error': form.name.$invalid && form.name.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="name">{{ 'label.entity.name' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="name" type="text" required
                                   ng-model="entity.name"
                                   ng-change="updateTableName()"
                                   ng-maxlength="255"
                                   uniqueentityproperty="existByEntityName"
                                   entity="entity"
                                   />
                            <p class="help-block"
                                ng-show="form.name.$error.required 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.name.$error.maxlength 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.maxlength' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.name.$error.uniqueentityproperty 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.exists' | translate }}</p>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{ 'has-error': form.tableName.$invalid && form.tableName.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="tableName">{{ 'label.entity.table_name' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="tableName" type="text" required
                                   ng-model="entity.tableName.name"
                                   ng-maxlength="255"
                                   uniqueentityproperty="existByTableName"
                                   entity="entity"
                                   />
                            <p class="help-block" 
                                ng-show="form.tableName.$error.required 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.tableName.$error.maxlength 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.maxlength' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.tableName.$error.uniqueentityproperty 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.exists' | translate }}</p>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{ 'has-error': form.namespace.$invalid && form.namespace.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="namespace">{{ 'label.entity.namespace' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="namespace" type="text" required
                                   ng-model="entity.namespace"
                                   ng-maxlength="255"
                                   />
                            <p class="help-block" 
                                ng-show="form.namespace.$error.required 
                                && form.namespace.$invalid 
                                && form.namespace.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.namespace.$error.maxlength 
                                && form.namespace.$invalid 
                                && form.namespace.$dirty">{{ 'error.maxlength' | translate }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" 
                ng-disabled="form.$invalid">
                {{ 'label.ok' | translate }}
            </button>
            <button type="button" class="btn btn-danger" 
                ng-click="cancel()">
                {{ 'label.cancel' | translate }}
            </button>
        </div>
    </form>
</script>
<!--/ngInclude: 'modalNewEditEntityContent.html' -->
</div>
<div>
<!-- ngInclude: 'modalNewEditRelationContent.html' -->
<script type="text/ng-template" id="modalNewEditRelationContent.html">

    <div class="modal-header">
        <h3 ng-if="isNew">{{ 'title.new_relation' | translate }} {{ sourceRelation._name }}</h3>
        <h3 ng-if="!isNew">{{ 'title.edit_relation' | translate }} {{ sourceRelation._name }}</h3>
    </div>
 
    <form id="relation-options" novalidate name="form" class="form-horizontal bg-white" ng-submit="ok(form)">

        <div class="modal-body">
            <div class="row">
                <div class="col-lg-12 col-md-12">

                    <span ng-switch="type">
                        <span ng-switch-when="1">
                            <div ng-include src="'oneToOneContent.html'"></div>
                        </span>
                        <span ng-switch-when="2">
                            <div ng-include src="'oneToManyContent.html'"></div>
                        </span>
                        <span ng-switch-when="4">
                            <div ng-include src="'oneToManyContent.html'"></div>
                        </span>
                        <span ng-switch-when="8">
                            <div ng-include src="'manyToManyContent.html'"></div>
                        </span>
                    </span>
                    
               </div>
            </div>
        </div>

        <div class="clearfix"></div>
        
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary"
                ng-disabled="form.$invalid">
                {{ 'label.ok' | translate }}
            </button>
            <button type="button" class="btn btn-danger" 
                ng-click="cancel()">
                {{ 'label.cancel' | translate }}
            </button>
        </div>
    </form>
    
</script>
<!--/ngInclude: 'modalNewEditRelationContent.html' -->
</div>
<div>
<!-- ngInclude: 'modalTemplate.html' -->
<script type="text/ng-template" id="modalTemplate.html">
    <div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{'z-index': 1050 + index*10, display: 'block'}">
        <div class="modal-dialog" ng-class="{'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}">
            <div class="modal-content clearfix" modal-transclude></div>
        </div>
    </div>
</script>
<!--/ngInclude: 'modalTemplate.html' -->
</div>
<div>
<!-- ngInclude: 'oneToManyContent.html' -->
<script type="text/ng-template" id="oneToManyContent.html">
<!-- OPCIONES ENTIDAD OWNER -->
<fieldset class="col-md-6">

    <legend class="">{{ 'label.entity' | translate }} {{ sourceEntityName }} <span class="">{{ 'label.inverse_side' | translate }}</span></legend>
    
    <div class="col-md-12">
        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.related_field' | translate }}</label>
            <div class="col-lg-8 col-md-8">
                <select class="form-control" name="referencedColumnName" 
                        ng-model="targetRelation.joinColumns[0].referencedColumnName"
                        ng-options="t.fieldName as t.fieldName for t in fieldsTarget"
                        >
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
            <div class="col-lg-8 col-md-8"
                ng-class="{ 'has-error': form.fieldName.$invalid && form.fieldName.$dirty }"
                >
                <input type="text" name="fieldName"  class="form-control"
                       ng-model="sourceRelation.fieldName"
                       ng-required="true"
                       ng-maxlength="255"
                />
                <p class="help-block error" 
                    ng-show="form.fieldName.$error.required 
                    && form.fieldName.$invalid 
                    && form.fieldName.$dirty">{{ 'error.required' | translate }}</p>
                <p class="help-block error" 
                    ng-show="form.fieldName.$error.maxlength 
                    && form.fieldName.$invalid 
                    && form.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
            </div>
        </div>
        
        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.cascade_options' | translate }}</label>
            <div class="col-lg-8 col-md-8">
                <div ng-dropdown-multiselect="" options="cascadeOptions" 
                selected-model="sourceRelation.cascade" 
                extra-settings="multiselectSettings"
                translation-texts="multiselectTextSettings"></div>
            </div>
        </div>
    </div>
</fieldset>

<!-- OPCIONES ENTIDAD INVERSE -->
<fieldset class="col-md-6">
    
    <legend class="">{{ 'label.entity' | translate }} {{ targetEntityName }} <span class="">{{ 'label.inverse_side' | translate }}</span></legend>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.fieldName.$invalid && form.fieldName.$dirty }"
            >
            <input type="text" name="fieldName"  class="form-control"
                   ng-model="targetRelation.fieldName"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.fieldName.$error.required 
                && form.fieldName.$invalid 
                && form.fieldName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.fieldName.$error.maxlength 
                && form.fieldName.$invalid 
                && form.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name_database' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.sourceFieldTableName.$invalid && form.sourceFieldTableName.$dirty }"
            >
            <input type="text" name="sourceFieldTableName"  class="form-control"
                   ng-model="targetRelation.joinColumns[0].name"
                   ng-required="true"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.sourceFieldTableName.$error.required 
                && form.sourceFieldTableName.$invalid 
                && form.sourceFieldTableName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.sourceFieldTableName.$error.maxlength 
                && form.sourceFieldTableName.$invalid 
                && form.sourceFieldTableName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    <div>
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.nullable' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <div class="checkbox fixed-checkbox">
                <input class="checkbox" type="checkbox" 
                    ng-model="targetRelation.joinColumns[0].nullable"
                />
                <label></label>
            </div>
        </div>
    </div>
</fieldset>
</script>
<!--/ngInclude: 'oneToManyContent.html' -->
</div>
<div>
<!-- ngInclude: 'oneToOneContent.html' -->
<script type="text/ng-template" id="oneToOneContent.html"> 
<!-- OPCIONES ENTIDAD OWNER -->
<fieldset class="col-md-6">

    <legend class="">{{ 'label.entity' | translate }} {{ sourceEntityName }} <span class="">{{ 'label.owner_side' | translate }}</span></legend>
    
    <div class="col-md-12">
        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.related_field' | translate }}</label>
            <div class="col-lg-8 col-md-8">
                <select class="form-control" name="referencedColumnName" 
                        ng-model="targetRelation.joinColumns[0].referencedColumnName"
                        ng-options="t.fieldName as t.fieldName for t in fieldsTarget"
                        >
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
            <div class="col-lg-8 col-md-8"
                ng-class="{ 'has-error': form.fieldName.$invalid && form.fieldName.$dirty }"
                >
                <input type="text" name="fieldName"  class="form-control"
                       ng-model="sourceRelation.fieldName"
                       ng-required="true"
                       ng-maxlength="255"
                />
                <p class="help-block error" 
                    ng-show="form.fieldName.$error.required 
                    && form.fieldName.$invalid 
                    && form.fieldName.$dirty">{{ 'error.required' | translate }}</p>
                <p class="help-block error" 
                    ng-show="form.fieldName.$error.maxlength 
                    && form.fieldName.$invalid 
                    && form.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
            </div>
        </div>
        
        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.cascade_options' | translate }}</label>
            <div class="col-lg-8 col-md-8">
                <div ng-dropdown-multiselect="" options="cascadeOptions" 
                selected-model="sourceRelation.cascade" 
                extra-settings="multiselectSettings"
                translation-texts="multiselectTextSettings"></div>
            </div>
        </div>
    </div>
</fieldset>

<!-- OPCIONES ENTIDAD INVERSE -->
<fieldset class="col-md-6">
    
    <legend class="">{{ 'label.entity' | translate }} {{ targetEntityName }} <span class="">{{ 'label.inverse_side' | translate }}</span></legend>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.fieldName.$invalid && form.fieldName.$dirty }"
            >
            <input type="text" name="fieldName"  class="form-control"
                   ng-model="targetRelation.fieldName"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.fieldName.$error.required 
                && form.fieldName.$invalid 
                && form.fieldName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.fieldName.$error.maxlength 
                && form.fieldName.$invalid 
                && form.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name_database' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.sourceFieldTableName.$invalid && form.sourceFieldTableName.$dirty }"
            >
            <input type="text" name="sourceFieldTableName"  class="form-control"
                   ng-model="targetRelation.joinColumns[0].name"
                   ng-required="true"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.sourceFieldTableName.$error.required 
                && form.sourceFieldTableName.$invalid 
                && form.sourceFieldTableName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.sourceFieldTableName.$error.maxlength 
                && form.sourceFieldTableName.$invalid 
                && form.sourceFieldTableName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    <div>
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.nullable' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <div class="checkbox fixed-checkbox">
                <input class="checkbox" type="checkbox" 
                    ng-model="targetRelation.joinColumns[0].nullable"
                />
                <label></label>
            </div>
        </div>
    </div>
</fieldset>
</script>
<!--/ngInclude: 'oneToOneContent.html' -->
</div>
<script type="text/ng-template" id="manyToManyContent.html">     
<!-- NOMBRE DE LA TABLA EN MANY TO MANY -->
<div class="form-group" 
    ng-class="{ 'has-error': form.entityName.$invalid && form.entityName.$dirty }"
    >
    <label class="col-lg-4 col-md-4 control-label">{{ 'label.middle_tablename' | translate }}</label>
    <div class="col-lg-8 col-md-8">
        <input type="text" name="entityName" class="form-control" placeholder="Nombre de la tabla"
            ng-model="sourceRelation.joinTable.name"
            ng-required="type == 3"
            ng-maxlength="255"
        />
        <p class="help-block error" 
            ng-show="form.entityName.$error.required 
            && form.entityName.$invalid 
            && form.entityName.$dirty">{{ 'error.required' | translate }}</p>
        <p class="help-block error" 
            ng-show="form.entityName.$error.maxlength 
            && form.entityName.$invalid 
            && form.entityName.$dirty">{{ 'error.maxlength' | translate }}</p>
    </div>
</div>

<hr />

<!-- OPCIONES ENTIDAD OWNER -->
<fieldset class="col-md-6">

    <legend class="">{{ 'label.entity' | translate }} {{ sourceEntityName }} <span class="">{{ 'label.owner_side' | translate }}</span></legend>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.related_field' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <select class="form-control" name="targetRelatedFieldId" 
                    ng-model="sourceRelation.joinTable.joinColumns[0].referencedColumnName"
                    ng-options="t.fieldName as t.fieldName for t in fieldsTarget"
                    >
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.sourceFieldName.$invalid && form.sourceFieldName.$dirty }"
            >
            <input type="text" name="sourceFieldName"  class="form-control"
                   ng-model="sourceRelation.fieldName"
                   ng-required="true"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.sourceFieldName.$error.required 
                && form.sourceFieldName.$invalid 
                && form.sourceFieldName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.sourceFieldName.$error.maxlength 
                && form.sourceFieldName.$invalid 
                && form.sourceFieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.cascade_options' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <div ng-dropdown-multiselect="" options="cascadeOptions" 
            selected-model="sourceRelation.cascade" 
            extra-settings="multiselectSettings"
            translation-texts="multiselectTextSettings"></div>
        </div>
    </div>
</fieldset>

<!-- OPCIONES ENTIDAD INVERSE MANY-TO-MANY -->
<fieldset class="col-md-6">

    <legend class="">{{ 'label.entity' | translate }} {{ targetEntityName }} <span class="">{{ 'label.inverse_side' | translate }}</span></legend>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.related_field' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <select class="form-control" name="sourceRelatedFieldId"
                    ng-model="sourceRelation.joinTable.inverseJoinColumns[0].referencedColumnName"
                    ng-options="t.fieldName as t.fieldName for t in fieldsSource"
                    >
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.targetFieldName.$invalid && form.targetFieldName.$dirty }"
            >
            <input type="text" name="targetFieldName"  class="form-control"
                   ng-model="targetRelation.fieldName"
                   ng-required="true"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.targetFieldName.$error.required 
                && form.targetFieldName.$invalid 
                && form.targetFieldName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.targetFieldName.$error.maxlength 
                && form.targetFieldName.$invalid 
                && form.targetFieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
</fieldset>
</script>
<script type="text/ng-template" id="modalEditFieldsContent.html">
	<div class="modal-header">
            <h3>{{ 'title.edit_fields' | translate }} {{ title }}</h3>
	</div>
	<form novalidate name="form" class="form-horizontal" 
            ng-submit="ok(form)">
            <div class="modal-body">
                <button type="button" class="btn btn-success btn-sm" 
                    ng-click="addField()">
                    <i class="icon icon-plus"> </i>
                    {{ 'label.new_field' | translate }}
                </button>
                <div class="row">
                    <div class="col-lg-12">
                        <span ng-include src="'fieldsOptionsContent.html'"></span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary"
                    ng-disabled="form.$invalid">
                    {{ 'label.ok' | translate }}
                </button>
                <button type="button" class="btn btn-danger" 
                    ng-click="cancel()">
                    {{ 'label.cancel' | translate }}
                </button>
            </div>
	</form>
</script>
<script type="text/ng-template" id="modalLoadSchema.html">
    <div class="modal-header">
        <h3>{{ 'title.load_schema' | translate }}</h3>
    </div>
    <form novalidate name="form" class="form-horizontal" ng-submit="ok(form)">
        <div class="modal-body">
            <div ng-show="!showTable">
                <button class="btn btn-default loading-button ladda-button"
                    data-style="zoom-in"
                    data-spinner-color="#000000"
                    ladda="!loading">
                    <i class="glyphicon"> </i>
                </button>
                <span>{{ 'label.loading' | translate }}</span>
            </div>
            <table class="table"
                ng-show="showTable">
                <thead>
                    <th>
                        {{ 'label.name' | translate }}
                    </th>
                    <th></th>
                </thead>
                <tbody>
                    <tr ng-repeat="schema in schemas">
                        <td>
                            {{ schema.name }}
                        </td>
                        <td class="text-right">
                            <button class="btn btn-info btn-sm ladda-button"
                                data-style="zoom-in"
                                ladda="loading"
                                ng-click="loadSchema(schema.id)"
                                tooltip-placement="top" 
                                tooltip-append-to-body="true" 
                                tooltip="{{ 'label.load' | translate }}">
                                <i class="glyphicon glyphicon-cloud-download"> </i>
                            </button>
                            <button class="btn btn-danger btn-sm ladda-button"
                                data-style="zoom-in"
                                ladda="loading"
                                ng-click="removeSchema(schema.id)"
                                tooltip-placement="top" 
                                tooltip-append-to-body="true" 
                                tooltip="{{ 'label.delete' | translate }}">
                                <i class="glyphicon glyphicon-remove"> </i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" ng-click="close()">{{ 'label.close' | translate }}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="modalNewEditEntityContent.html">
    <div class="modal-header">
        <h3 ng-if="isNew">{{ 'title.new_entity' | translate }}</h3>
        <h3 ng-if="!isNew">{{ 'title.edit_entity' | translate }} {{ entity.name }}</h3>
    </div>
    <form novalidate name="form" class="form-horizontal" ng-submit="ok(form)">
        <div class="modal-body">
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group" ng-class="{ 'has-error': form.name.$invalid && form.name.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="name">{{ 'label.entity.name' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="name" type="text" required
                                   ng-model="entity.name"
                                   ng-change="updateTableName()"
                                   ng-maxlength="255"
                                   uniqueentityproperty="existByEntityName"
                                   entity="entity"
                                   />
                            <p class="help-block"
                                ng-show="form.name.$error.required 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.name.$error.maxlength 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.maxlength' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.name.$error.uniqueentityproperty 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.exists' | translate }}</p>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{ 'has-error': form.tableName.$invalid && form.tableName.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="tableName">{{ 'label.entity.table_name' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="tableName" type="text" required
                                   ng-model="entity.tableName.name"
                                   ng-maxlength="255"
                                   uniqueentityproperty="existByTableName"
                                   entity="entity"
                                   />
                            <p class="help-block" 
                                ng-show="form.tableName.$error.required 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.tableName.$error.maxlength 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.maxlength' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.tableName.$error.uniqueentityproperty 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.exists' | translate }}</p>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{ 'has-error': form.namespace.$invalid && form.namespace.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="namespace">{{ 'label.entity.namespace' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="namespace" type="text" required
                                   ng-model="entity.namespace"
                                   ng-maxlength="255"
                                   />
                            <p class="help-block" 
                                ng-show="form.namespace.$error.required 
                                && form.namespace.$invalid 
                                && form.namespace.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.namespace.$error.maxlength 
                                && form.namespace.$invalid 
                                && form.namespace.$dirty">{{ 'error.maxlength' | translate }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" 
                ng-disabled="form.$invalid">
                {{ 'label.ok' | translate }}
            </button>
            <button type="button" class="btn btn-danger" 
                ng-click="cancel()">
                {{ 'label.cancel' | translate }}
            </button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="modalNewEditRelationContent.html">

    <div class="modal-header">
        <h3 ng-if="isNew">{{ 'title.new_relation' | translate }} {{ sourceRelation._name }}</h3>
        <h3 ng-if="!isNew">{{ 'title.edit_relation' | translate }} {{ sourceRelation._name }}</h3>
    </div>
 
    <form id="relation-options" novalidate name="form" class="form-horizontal bg-white" ng-submit="ok(form)">

        <div class="modal-body">
            <div class="row">
                <div class="col-lg-12 col-md-12">

                    <span ng-switch="type">
                        <span ng-switch-when="1">
                            <div ng-include src="'oneToOneContent.html'"></div>
                        </span>
                        <span ng-switch-when="2">
                            <div ng-include src="'oneToManyContent.html'"></div>
                        </span>
                        <span ng-switch-when="4">
                            <div ng-include src="'oneToManyContent.html'"></div>
                        </span>
                        <span ng-switch-when="8">
                            <div ng-include src="'manyToManyContent.html'"></div>
                        </span>
                    </span>
                    
               </div>
            </div>
        </div>

        <div class="clearfix"></div>
        
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary"
                ng-disabled="form.$invalid">
                {{ 'label.ok' | translate }}
            </button>
            <button type="button" class="btn btn-danger" 
                ng-click="cancel()">
                {{ 'label.cancel' | translate }}
            </button>
        </div>
    </form>
    
</script>
<script type="text/ng-template" id="modalTemplate.html">
    <div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{'z-index': 1050 + index*10, display: 'block'}">
        <div class="modal-dialog" ng-class="{'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}">
            <div class="modal-content clearfix" modal-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="oneToManyContent.html">
<!-- OPCIONES ENTIDAD OWNER -->
<fieldset class="col-md-6">

    <legend class="">{{ 'label.entity' | translate }} {{ sourceEntityName }} <span class="">{{ 'label.inverse_side' | translate }}</span></legend>
    
    <div class="col-md-12">
        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.related_field' | translate }}</label>
            <div class="col-lg-8 col-md-8">
                <select class="form-control" name="referencedColumnName" 
                        ng-model="targetRelation.joinColumns[0].referencedColumnName"
                        ng-options="t.fieldName as t.fieldName for t in fieldsTarget"
                        >
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
            <div class="col-lg-8 col-md-8"
                ng-class="{ 'has-error': form.fieldName.$invalid && form.fieldName.$dirty }"
                >
                <input type="text" name="fieldName"  class="form-control"
                       ng-model="sourceRelation.fieldName"
                       ng-required="true"
                       ng-maxlength="255"
                />
                <p class="help-block error" 
                    ng-show="form.fieldName.$error.required 
                    && form.fieldName.$invalid 
                    && form.fieldName.$dirty">{{ 'error.required' | translate }}</p>
                <p class="help-block error" 
                    ng-show="form.fieldName.$error.maxlength 
                    && form.fieldName.$invalid 
                    && form.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
            </div>
        </div>
        
        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.cascade_options' | translate }}</label>
            <div class="col-lg-8 col-md-8">
                <div ng-dropdown-multiselect="" options="cascadeOptions" 
                selected-model="sourceRelation.cascade" 
                extra-settings="multiselectSettings"
                translation-texts="multiselectTextSettings"></div>
            </div>
        </div>
    </div>
</fieldset>

<!-- OPCIONES ENTIDAD INVERSE -->
<fieldset class="col-md-6">
    
    <legend class="">{{ 'label.entity' | translate }} {{ targetEntityName }} <span class="">{{ 'label.inverse_side' | translate }}</span></legend>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.fieldName.$invalid && form.fieldName.$dirty }"
            >
            <input type="text" name="fieldName"  class="form-control"
                   ng-model="targetRelation.fieldName"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.fieldName.$error.required 
                && form.fieldName.$invalid 
                && form.fieldName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.fieldName.$error.maxlength 
                && form.fieldName.$invalid 
                && form.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name_database' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.sourceFieldTableName.$invalid && form.sourceFieldTableName.$dirty }"
            >
            <input type="text" name="sourceFieldTableName"  class="form-control"
                   ng-model="targetRelation.joinColumns[0].name"
                   ng-required="true"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.sourceFieldTableName.$error.required 
                && form.sourceFieldTableName.$invalid 
                && form.sourceFieldTableName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.sourceFieldTableName.$error.maxlength 
                && form.sourceFieldTableName.$invalid 
                && form.sourceFieldTableName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    <div>
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.nullable' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <div class="checkbox fixed-checkbox">
                <input class="checkbox" type="checkbox" 
                    ng-model="targetRelation.joinColumns[0].nullable"
                />
                <label></label>
            </div>
        </div>
    </div>
</fieldset>
</script>
<script type="text/ng-template" id="oneToOneContent.html"> 
<!-- OPCIONES ENTIDAD OWNER -->
<fieldset class="col-md-6">

    <legend class="">{{ 'label.entity' | translate }} {{ sourceEntityName }} <span class="">{{ 'label.owner_side' | translate }}</span></legend>
    
    <div class="col-md-12">
        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.related_field' | translate }}</label>
            <div class="col-lg-8 col-md-8">
                <select class="form-control" name="referencedColumnName" 
                        ng-model="targetRelation.joinColumns[0].referencedColumnName"
                        ng-options="t.fieldName as t.fieldName for t in fieldsTarget"
                        >
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
            <div class="col-lg-8 col-md-8"
                ng-class="{ 'has-error': form.fieldName.$invalid && form.fieldName.$dirty }"
                >
                <input type="text" name="fieldName"  class="form-control"
                       ng-model="sourceRelation.fieldName"
                       ng-required="true"
                       ng-maxlength="255"
                />
                <p class="help-block error" 
                    ng-show="form.fieldName.$error.required 
                    && form.fieldName.$invalid 
                    && form.fieldName.$dirty">{{ 'error.required' | translate }}</p>
                <p class="help-block error" 
                    ng-show="form.fieldName.$error.maxlength 
                    && form.fieldName.$invalid 
                    && form.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
            </div>
        </div>
        
        <div class="form-group">
            <label class="col-lg-4 col-md-4 control-label">{{ 'label.cascade_options' | translate }}</label>
            <div class="col-lg-8 col-md-8">
                <div ng-dropdown-multiselect="" options="cascadeOptions" 
                selected-model="sourceRelation.cascade" 
                extra-settings="multiselectSettings"
                translation-texts="multiselectTextSettings"></div>
            </div>
        </div>
    </div>
</fieldset>

<!-- OPCIONES ENTIDAD INVERSE -->
<fieldset class="col-md-6">
    
    <legend class="">{{ 'label.entity' | translate }} {{ targetEntityName }} <span class="">{{ 'label.inverse_side' | translate }}</span></legend>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.fieldName.$invalid && form.fieldName.$dirty }"
            >
            <input type="text" name="fieldName"  class="form-control"
                   ng-model="targetRelation.fieldName"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.fieldName.$error.required 
                && form.fieldName.$invalid 
                && form.fieldName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.fieldName.$error.maxlength 
                && form.fieldName.$invalid 
                && form.fieldName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    
    <div class="form-group">
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.name_database' | translate }}</label>
        <div class="col-lg-8 col-md-8"
            ng-class="{ 'has-error': form.sourceFieldTableName.$invalid && form.sourceFieldTableName.$dirty }"
            >
            <input type="text" name="sourceFieldTableName"  class="form-control"
                   ng-model="targetRelation.joinColumns[0].name"
                   ng-required="true"
                   ng-maxlength="255"
            />
            <p class="help-block error" 
                ng-show="form.sourceFieldTableName.$error.required 
                && form.sourceFieldTableName.$invalid 
                && form.sourceFieldTableName.$dirty">{{ 'error.required' | translate }}</p>
            <p class="help-block error" 
                ng-show="form.sourceFieldTableName.$error.maxlength 
                && form.sourceFieldTableName.$invalid 
                && form.sourceFieldTableName.$dirty">{{ 'error.maxlength' | translate }}</p>
        </div>
    </div>
    <div>
        <label class="col-lg-4 col-md-4 control-label">{{ 'label.nullable' | translate }}</label>
        <div class="col-lg-8 col-md-8">
            <div class="checkbox fixed-checkbox">
                <input class="checkbox" type="checkbox" 
                    ng-model="targetRelation.joinColumns[0].nullable"
                />
                <label></label>
            </div>
        </div>
    </div>
</fieldset>
</script>