<script type="text/ng-template" id="modalNewEditEntityContent.html">
    <div class="modal-header">
        <h3 ng-if="isNew">{{ 'title.new_entity' | translate }}</h3>
        <h3 ng-if="!isNew">{{ 'title.edit_entity' | translate }} {{ entity.name }}</h3>
    </div>
    <form novalidate name="form" class="form-horizontal" ng-submit="ok(form)">
        <div class="modal-body">
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group" ng-class="{ 'has-error': form.name.$invalid && form.name.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="name">{{ 'label.entity.name' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="name" type="text" required
                                   ng-model="entity.name"
                                   ng-change="updateTableName()"
                                   ng-maxlength="255"
                                   uniqueentityproperty="existByEntityName"
                                   entity="entity"
                                   />
                            <p class="help-block"
                                ng-show="form.name.$error.required 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.name.$error.maxlength 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.maxlength' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.name.$error.uniqueentityproperty 
                                && form.name.$invalid 
                                && form.name.$dirty">{{ 'error.exists' | translate }}</p>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{ 'has-error': form.tableName.$invalid && form.tableName.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="tableName">{{ 'label.entity.table_name' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="tableName" type="text" required
                                   ng-model="entity.tableName.name"
                                   ng-maxlength="255"
                                   uniqueentityproperty="existByTableName"
                                   entity="entity"
                                   />
                            <p class="help-block" 
                                ng-show="form.tableName.$error.required 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.tableName.$error.maxlength 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.maxlength' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.tableName.$error.uniqueentityproperty 
                                && form.tableName.$invalid 
                                && form.tableName.$dirty">{{ 'error.exists' | translate }}</p>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{ 'has-error': form.namespace.$invalid && form.namespace.$dirty }">
                        <div class="col-lg-4 col-md-4">
                            <label for="namespace">{{ 'label.entity.namespace' | translate }}</label>
                        </div>
                        <div class="col-lg-8 col-md-8">
                            <input class="form-control" name="namespace" type="text" required
                                   ng-model="entity.namespace"
                                   ng-maxlength="255"
                                   />
                            <p class="help-block" 
                                ng-show="form.namespace.$error.required 
                                && form.namespace.$invalid 
                                && form.namespace.$dirty">{{ 'error.required' | translate }}</p>
                            <p class="help-block" 
                                ng-show="form.namespace.$error.maxlength 
                                && form.namespace.$invalid 
                                && form.namespace.$dirty">{{ 'error.maxlength' | translate }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" 
                ng-disabled="form.$invalid">
                {{ 'label.ok' | translate }}
            </button>
            <button type="button" class="btn btn-danger" 
                ng-click="cancel()">
                {{ 'label.cancel' | translate }}
            </button>
        </div>
    </form>
</script>